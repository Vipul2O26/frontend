<!-- âœ… Toast Notification -->
<div *ngIf="showToast" class="alert alert-success text-center fw-bold" role="alert">
  {{ toastMessage }}
</div>
<app-header></app-header>

<form
  #formRef
  [formGroup]="taskForm"
  (ngSubmit)="onSubmit()"
  class="p-6 border rounded shadow bg-light mt-5"
>

  <!-- ðŸ”¤ Title -->
  <div class="mb-3">
    <label class="form-label">Task Title</label>
    <input
      formControlName="title"
      type="text"
      class="form-control"
      placeholder="Enter task title"
      [class.is-invalid]="taskForm.get('title')?.invalid && taskForm.get('title')?.touched"
    />
    <div *ngIf="taskForm.get('title')?.invalid && taskForm.get('title')?.touched" class="invalid-feedback">
      Title must be at least 3 characters long.
    </div>
  </div>

  <!-- ðŸ“ Description -->
  <div class="mb-3">
    <label class="form-label">Description</label>
    <textarea
      formControlName="description"
      class="form-control"
      placeholder="Optional task description"
      rows="3"
    ></textarea>
  </div>

  <!-- ðŸ•’ Due Date & Priority -->
  <div class="row g-3 mb-3">
    <div class="col-12 col-md-6">
      <label class="form-label">Due Date</label>
      <input
        formControlName="dueDate"
        type="datetime-local"
        class="form-control"
        [class.is-invalid]="taskForm.get('dueDate')?.invalid && taskForm.get('dueDate')?.touched"
      />
      <div *ngIf="taskForm.get('dueDate')?.invalid && taskForm.get('dueDate')?.touched" class="invalid-feedback">
        Due date is required.
      </div>
    </div>

    <div class="col-12 col-md-6">
      <label class="form-label">Priority</label>
      <select formControlName="priority" class="form-select">
        <option value="Low">Low</option>
        <option value="Medium">Medium</option>
        <option value="High">High</option>
      </select>
    </div>
  </div>

  <!-- âœ… Submit Button -->
  <div class="d-grid d-md-flex justify-content-md-end">
    <button
      type="submit"
      class="btn btn-primary px-4"
      [disabled]="taskForm.invalid"
    >
      {{ isEditMode ? 'ðŸ’¾ Update Task' : 'âž• Add Task' }}
    </button>
  </div>
</form>


<app-footer></app-footer>